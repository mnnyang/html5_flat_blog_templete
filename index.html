<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <title>xxyangyoulin's Blog</title>
    <link rel="stylesheet" href="css/index_style.css">
    <link rel="stylesheet" href="css/font-awesome.css">

</head>
<body>

<div class="content pag-max-width">
    <div class="header pag-max-width">
        <ul>
            <li class="site float-left">
                <span class=" site-icon fa fa-book"></span>
                <span class="site-title">yyl's Blog</span>
            </li>
            <li class="menu-icon fold fa fa-sliders float-left"></li>
            <li class="menu-icon user fa fa-user-o float-left"></li>


            <div class="search-box">
                <div class="search" style="">
                    <input type="text" placeholder="输入关键字搜索..">
                    <span class="fa fa-search"></span>
                </div>
            </div>

            <li class="login click-state float-right">
                <span class=" login-text">登录</span>
                <span class=" login-icon fa fa-sort-desc"></span>
            </li>


            <li class="click-state menu-icon news fa fa-hacker-news float-right"></li>
            <li class="click-state menu-icon music fa fa-music float-right"></li>


        </ul>
    </div>

    <div class="controller">
        <div class="glide-left float-left">
            <div class="glide-left-scroll">
                <div class="avatar-box">
                    <img src="./images/avatar.jpg">
                    <div class="name">
                        xxyyl
                        <div class=" fa fa-sort-desc">

                        </div>

                    </div>
                    <div class="desc">A student</div>
                </div>

                <div class="nav-first">
                    <div class="nav-title">导航</div>
                    <ul class="nav-list">
                        <li class="nav-item click-state">
                            <span class="nav-icon fa fa-home"></span>
                            首页
                        </li>
                        <li class="nav-item click-state">
                            <span class="nav-icon fa fa-file-text"></span>
                            文章
                        </li>
                    </ul>
                </div>

                <div class="nav-second">
                    <div class="nav-title">分类</div>

                    <div id="sidebar">
                        <ul>
                            <li>
                                <div class="menu-item click-state">
                                    <span class="menu-icon fa fa-envelope-open"></span>
                                    <span class="menu-title">菜单一</span>
                                    <span class="menu-ind fa fa-chevron-right"></span>
                                </div>
                                <ul class="sub-menu">
                                    <li><a class="spec-menu-item" href="index.html">子菜单一</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单二</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                </ul>
                            </li>

                            <li>
                                <div class="menu-item click-state">
                                    <span class="menu-icon fa fa-envelope-open"></span>
                                    <span class="menu-title">菜单一</span>
                                    <span class="menu-ind fa fa-chevron-right"></span>
                                </div>
                                <ul class="sub-menu">
                                    <li><a class="spec-menu-item" href="index.html">子菜单一</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单二</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                    <li><a class="spec-menu-item" href="#">子菜单三</a></li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="middle float-left">
            <div content="middle-content">
                <div class="middle-header">

                    <h1>友人C</h1>
                    <div class="desc">网站的一下描述而已。</div>
                </div>

                <div class="middle-list">
                    <div class="card-big-article">
                        <div class="img">
                            <img src="images/avatar.jpg">
                        </div>

                        <div class="text">
                            <h2>这是一个文章标题</h2>
                            <div class="desc">
                                这是一些描述,这是一些描述,这是一些描述,这是一些描述,这是一些描述,这是一些描述,这是一些描述...
                            </div>
                            <div class="footer">
                                <span class="fa fa-user"></span>
                                <span class="author">友人c</span>

                                <span class="fa fa-calendar-times-o"></span>
                                <span class="date">2018 年 04 月 08 日</span>

                                <span class="fa fa-comment"></span>
                                <span class="comment">12条评论</span>
                            </div>
                        </div>
                    </div>

                    <div class="card-small-article">
                        <div class="img">
                            <img src="images/avatar.jpg">
                        </div>
                        <div class="text">
                            <h2>这是一个文章标题</h2>
                            <div class="desc">
                                这是一些描述,这是一些描述,这是一些描述,这是一些描述,这是一些描述,这是一些描述,这是一些描述...
                            </div>
                            <div class="footer">
                                <span class="fa fa-user"></span>
                                <span class="author">友人c</span>

                                <span class="fa fa-calendar-times-o"></span>
                                <span class="date">2018 年 04 月 08 日</span>

                                <span class="fa fa-comment"></span>
                                <span class="comment">12条评论</span>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
        <div class="glide-right float-right">
            <div id="tab">
                <ul class="tab-title">
                    <li class="tab-title-item select"><span class="fa fa-link"></span></li>
                    <li class="tab-title-item "><span class="fa fa-car"></span></li>
                    <li class="tab-title-item "><span class="fa fa-folder-o"></span></li>
                </ul>

                <div class="tab-content">
                    <div class="tab-content-item select">
                        <div class="sort">
                            <h2>分类</h2>
                            <ul class="sort-list">
                                <li class="sort-item">
                                    <span class="sort-title">程序设计</span>
                                    <span class="sort-count">12</span>
                                </li>
                                <li class="sort-item">
                                    <span class="sort-title">畅谈人生</span>
                                    <span class="sort-count">12</span>
                                </li>
                                <li class="sort-item">
                                    <span class="sort-title">学习笔记</span>
                                    <span class="sort-count">56</span>
                                </li>
                            </ul>
                        </div>

                        <div class="tag">
                            <h2>标签</h2>
                            <ul class="tag-list">
                                <li class="tag-item">hello</li>
                                <li class="tag-item">hello</li>
                                <li class="tag-item">hello</li>
                                <li class="tag-item">hello</li>
                                <li class="tag-item">hello</li>
                                <li class="tag-item">hllo</li>
                                <li class="tag-item">hllo</li>
                                <li class="tag-item">hllo</li>
                                <li class="tag-item">hllo</li>
                                <li class="tag-item">hllo</li>
                                <li class="tag-item">hllo</li>
                                <li class="tag-item">hllo</li>
                                <li class="tag-item">hllo</li>
                                <li class="tag-item">hllo</li>
                                <li class="tag-item">hllo</li>
                            </ul>
                            <div style="clear:both;"></div>
                        </div>

                        <div class="directory" id="directory">
                            <h2>目录</h2>
                            <ul class="directory-list">
                                <li class="directory-item click-state"><span class="directory-title">程序设计</span></li>
                                <li class="directory-item click-state"><span class="directory-title">程序设计</span></li>
                                <li class="directory-item click-state"><span class="directory-title">程序设计</span></li>
                                <li class="directory-item click-state"><span class="directory-title">程序设计</span></li>
                                <li class="directory-item click-state"><span class="directory-title">程序设计</span></li>
                                <li class="directory-item click-state"><span class="directory-title">程序设计</span></li>
                                <li class="directory-item click-state"><span class="directory-title">程序设计</span></li>
                                <li class="directory-item click-state"><span class="directory-title">程序设计</span></li>
                            </ul>
                        </div>
                    </div>
                    <div class="tab-content-item">
                        <div class="directory">
                            <h2>目录</h2>
                            <ul class="directory-list">
                                <li class="directory-item click-state"><span class="directory-title">程序设计</span></li>
                                <li class="directory-item click-state"><span class="directory-title">程序设计</span></li>
                                <li class="directory-item click-state"><span class="directory-title">程序设计</span></li>
                                <li class="directory-item click-state"><span class="directory-title">程序设计</span></li>
                                <li class="directory-item click-state"><span class="directory-title">程序设计</span></li>
                                <li class="directory-item click-state"><span class="directory-title">程序设计</span></li>
                                <li class="directory-item click-state"><span class="directory-title">程序设计</span></li>
                                <li class="directory-item click-state"><span class="directory-title">程序设计</span></li>
                            </ul>
                        </div>
                    </div>
                    <div class="tab-content-item">
                        <div class="directory">
                            <h2>目录</h2>
                            <ul class="directory-list">
                                <li class="directory-item click-state"><span class="directory-title">大标题1</span></li>
                                <li class="directory-item click-state"><span class="directory-title">大标题2</span></li>
                                <li class="directory-item click-state"><span class="directory-title">大标题3</span></li>
                                <li class="directory-item click-state"><span class="directory-title">程序设计</span></li>
                                <li class="directory-item click-state"><span class="directory-title">程序设计</span></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="js/jquery-2.1.1.min.js"></script>
<script>

    function initTab(selectedId = 0) {
        var tab = $('#tab');
        var tabTitles = tab.find('.tab-title-item');
        var tabContents = tab.find('.tab-content-item');

        for (var i = 0; i < tabTitles.length; i++) {

            tabTitles[i].id = i;
            $(tabTitles[i]).on('click', function () {

                var $this = $(this);
                tabTitles.removeClass('select');
                $this.addClass('select');

                tabContents.removeClass('select').hide();
                $(tabContents[this.id]).addClass('select').show();

                updateDirTop();

            });

            //set default selected
            $(tabContents[selectedId]).show();
        }

    }

    function initSidebar() {
        var sidebar = $('#sidebar');
        var menu_item = sidebar.find('.menu-item');

        menu_item.on('click', function () {

            var $this = $(this);
            $this.next().slideToggle(1);
            $this.toggleClass('open');

            sidebar.find('.sub-menu').not($this.next()).slideUp(1).prev().removeClass('open');
        });

        sidebar.find('.open').next().show();
    }


    var defaultDirTop = 0;

    function updateDirTop() {
        if (undefined !== $('.select .directory').offset()) {
            defaultDirTop = $('.select .directory').offset().top;
            console.log("------>" + defaultDirTop)
        }
    }

    function initDirectoryFixed() {

        updateDirTop();

        $(window).scroll(function () {
            var dir = $('.select .directory');

            if (null == dir) {
                return;
            }

            var st = Math.max(document.body.scrollTop || document.documentElement.scrollTop);

            if (st + 50 > defaultDirTop) {
                if (dir.css('position') !== 'fixed') {
                    dir.css('position', 'fixed').css('top', '64px');
                    console.log("fixed")
                }
            } else {
                if (dir.css('position') !== 'relative') {
                    dir.css('position', 'relative').css('top', '0px').css('width', '209px');
                    console.log("relative")
                }
            }
        });
    }

    $(function () {
        initSidebar();
        initTab();

        initDirectoryFixed();
    });

</script>
</body>
</html>